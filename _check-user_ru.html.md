# Проверка номера клиента {#check-user}

###### Последнее обновление: 2017-07-11 | [Редактировать на GitHub](https://github.com/QIWI-API/topup-wallet-doc/blob/master/_check-user_ru.html.md)

Данным запросом вы можете проверить, зарегистрирована ли учетная запись Клиента в системе Visa QIWI Wallet, до проведения платежа.

Проверка существования учетной записи Клиента не является обязательной для регистрации платежа. При [регистрации платежа](#payment) отсутствующая в системе Visa QIWI Wallet учетная запись Клиента создаётся автоматически.

## Формат запроса

~~~xml
<?xml version="1.0" encoding="utf-8"?>
<request>
  <request-type>check-user</request-type>
  <terminal-id>123</terminal-id>
  <extra name="password">XXXXX</extra>
  <extra name="phone">79031234567</extra>
  <extra name="ccy">RUB</extra>
</request>
~~~

### Параметры запроса

Тег|Описание
--------|------
*request*|Группирующий тег. Дочерние теги содержат параметры платежа.
*request-type* | Тип запроса (идентификатор запроса проверки существования учетной записи Клиента в системе: *check-user*)
*terminal-id* | Идентификатор агента в системе Visa QIWI Wallet
*extra name="password"* | Экстра-поле, содержащее пароль для аутентификации агента в системе Visa QIWI Wallet
*extra name="phone"* | Экстра-поле, содержащее номер телефона Клиента, регистрацию учетной записи которого необходимо проверить
*extra name="ccy"* | Экстра-поле, содержащее код валюты учетной записи Клиента. Опциональный параметр. В случае его передачи проверяется наличие у Клиента учетной записи в данной валюте. В качестве значения используется цифровой или буквенный код валюты по ISO 4217.

## Формат ответа

~~~xml
<response>
  <result-code fatal="false">0</result-code>
  <exist>1</exist>
</response>
~~~

Параметры ответа:

 Тег|Описание|Атрибуты
--------|------|---------
*result-code* | [Код](#tech_error) ошибки обработки запроса.| `fatal` – признак фатальности ошибки обработки запроса.
*exist* | Флаг, указывающий на существование учетной записи Клиента в системе Visa QIWI Wallet. Флаг передается в ответе только в случае удачной обработки запроса (с кодом ошибки 0). Флаг может принимать значения:<br><ul><li>`0` – учетная запись Клиента не зарегистрирована в системе Visa QIWI Wallet;</li><li>`1` – учетная запись Клиента зарегистрирована в системе Visa QIWI Wallet.</li></ul><br>В случае если в исходном запросе указана валюта (тег `<extra name="ccy">`) флаг принимает значения:<br><ul><li>`0` – у Клиента нет учетной записи в данной валюте, или учетная запись Клиента не зарегистрирована в системе Visa QIWI Wallet;</li><li>`1` – Клиент имеет учетную запись в данной валюте в системе Visa QIWI Wallet.</li></ul>|Отсутствуют.
