---
title: QIWI Wallet Top-Up API

search: true

metatitle: Top-Up API QIWI Кошелька

metadescription: Top-Up API QIWI Кошелька позволяет автоматизировать выплаты на QIWI Кошельки пользователей.

language_tabs:
  - xml: XML

toc_footers:
 - <a href='/'>На главную</a>
 - <a href='mailto:api_help@qiwi.com'>Обратная связь</a>

includes:
 - topup_ru
 - topup-status_ru
 - check-user_ru
 - get-balance_ru
 - authorization_ru
 - statuses_ru
 - errors_ru

---

# Введение {#introduction}

###### Последнее обновление: 2017-07-11 | [Редактировать на GitHub](https://github.com/QIWI-API/topup-wallet-doc/blob/master/topup_ru.html.md)

API выплат на кошельки предназначено для платежных агентов КИВИ Банк (АО), позволяет зачислять деньги на кошельки Клиентов (баланс учетной записи Клиента в системе Visa QIWI Кошелек).

## Что позволяет протокол

1. Переводить деньги клиентам Visa QIWI Кошелек (pay).
2. Проверять существование клиентов в сервисе Visa QIWI Кошелек (check-user).
3. Следить за балансом на счете для выплат (ping).

## Как это работает

1. Пользователь передает вам сумму и номер Visa QIWI Кошелек, который нужно пополнить.
2. Вы отправляете запрос в API Visa QIWI Кошелек на пополнение этого кошелька.
3. Вы проверяете статус выплаты. При успешной выплате
3. Сервис Visa QIWI Кошелек переводит нужную сумму в кошелек пользователя с вашего агентского счета.
4. Вы перечисляете принятые от пользователя деньги на свой агентский счет на следующий рабочий день.

По повопроса вопросы интеграции и сотрудничесва пишите на <a href="mailto:bss@qiwi.com">bss@qiwi.com</a>.

# Формат взаимодействия {#general}

Взаимодействие происходит посредством пересылки запросов и ответов на них сервера Visa QIWI Кошелек. Запросы и ответы – XML-документы в кодировке UTF-8.

Запросы отправляются по протоколу HTTPS на URL:

https://api.qiwi.com/xml/topup.jsp.

Тип HTTP-запроса - POST, XML-документ помещается в теле HTTP-запроса. Формат параметров описан в разделе.

Необходимо проверять подлинность сервера QIWI с помощью цепочки сертификации и не устанавливать соединение, если проверка не пройдет успешно.

Аутентификация запросов выполняется по идентификатору и паролю, выдаваемому при подключении к системе Visa QIWI Кошелек. Смена пароля выполняется через сотрудников КИВИ Банк (АО) или сотрудников уполномоченного представителя КИВИ Банк (АО). Также возможна аутентификация по цифровой подписи или по клиентскому сертификату (см. раздел 6).

Приведенные теги и атрибуты запросов/ответов обязательны для передачи в запросах и ответах (если в описании конкретного тега или атрибута не указано иное). Добавление дополнительных тегов или атрибутов в ответы или запросы не является нарушением протокола.

Единственным признаком, на основе которого вы можете принимать решение о успешности или неуспешности выполнения платежа на своей стороне, является статус транзакции в системе Visa QIWI Кошелек.

Каждому платежу (набору реквизитов: сумма, валюта, идентификатор Клиента в системе Visa QIWI Кошелек, идентификатор сервиса) вы должны присваивать уникальный идентификатор.

Этапы процесса информационного взаимодействия при пополнениии QIWI Кошелька отображены на блок-схеме:

<img src="images/topup.png" />


